using DaimahouGames.Runtime.Characters;
using DaimahouGames.Editor.Core;
using UnityEditor;

namespace PrototypeCreator.Core.Editor.Characters
{
    public class NotifiesInspector : GenericListInspector<INotify>
    {
        //============================================================================================================||
        // ※  Variables: ---------------------------------------------------------------------------------------------|
        // ---|　Exposed State -------------------------------------------------------------------------------------->|
        // ---|　Internal State ------------------------------------------------------------------------------------->|
        // ---|　Dependencies --------------------------------------------------------------------------------------->|
        // ---|　Properties ----------------------------------------------------------------------------------------->|
        
        public ReactiveGesturePlayer Previewer { get; set; }
        
        // ---|　Events --------------------------------------------------------------------------------------------->|
        //============================================================================================================||
        // ※  Constructors: ------------------------------------------------------------------------------------------|
        
        public NotifiesInspector(SerializedProperty property) : base(property) {}
        
        // ※  Initialization Methods: --------------------------------------------------------------------------------|
        // ※  Public Methods: ----------------------------------------------------------------------------------------|

        public void UpdateAnimationProgress(float progress) => Previewer.SetProgress(progress);

        // ※  Virtual Methods: ---------------------------------------------------------------------------------------|
        
        protected override GenericInspector MakeItemInspector(int index) => new NotifyInspector(this, index);

        // ※  Protected Methods: -------------------------------------------------------------------------------------|
        // ※  Private Methods: ---------------------------------------------------------------------------------------|
        //============================================================================================================||
    }
}